<!-- wasm-pack build --target web -->

<!DOCTYPE html>
<html>

<head>
    <style>
        .button {
            background-color: #db7b26;
            border: none;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
        }
    </style>

    <script src="codemirror/lib/codemirror.js"> </script>
    <link rel="stylesheet" href="codemirror/lib/codemirror.css" />

    <!-- <script src="codemirror/mode/clike/clike.js">  </script> -->

    <!-- <script src="rust.js">    </script> -->
    <script src="codemirror/mode/clojure/clojure.js">    </script>
    <!-- <script src="rust.js"></script> -->
    <!-- <script src="codemirror/addon/mode/simple.js"> </script> -->
    <script src="codemirror/addon/edit/matchbrackets.js"> </script>
    <!-- <script src="codemirror/mode/rust/rust.js">    </script> -->
    <script src="codemirror/mode/rust/rust.js">    </script>

    <link href="codemirror/theme/dracula.css" rel="stylesheet" />
    <style>
        .CodeMirror {
            border: 2px inset #dee;
        }
    </style>
</head>

<body style="background-color:#333333;">
    <center>
        <h1>GLSL2WGSL</h1>
        <h2>Convert glsl code to wgsl</h2>
        <p>Paste glsl code here:</p>
        <br>

        <textarea id="glslarea" name="glsl" rows="15" cols="80" style="background-color:#333333;">
float yu = 1;
        </textarea>

        <br> <br>
        <button onclick="dum()" class="button">Convert!</button>
        <br> <br>

        <textarea id="wgslarea" name="wlsl-" rows="15" cols="80" style="background-color:#333333;"> </textarea>
        <br> <br>

        <script src="/main.js" type="module"></script>
    </center>
    <br>


    <!-- <textarea id="editor" name="grossse" rows="15" cols="80">

typedef struct {
void* arg_socket;
zmq_msg_t* arg_msg;
char* arg_string;
unsigned long arg_len;
int arg_int, arg_command;

int signal_fd;
int pad;
void* context;
sem_t sem;
} acl_zmq_context;
        </textarea> -->
    <br>
    <div><textarea id="code" name="code">
// Demo code.

type foo<T> = i32;
    enum bar {
    Some(i32, foo<f32>),
        None
    }

fn check_crate(x: i32) {
    let v = 10;
    match foo {
        1 ... 3 {
            print_foo();
            if x {
                blah().to_string();
            }
        }
        (x, y) { "bye" }
        _ { "hi" }
    }
}

</textarea></div>

    <script>
        var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
            lineNumbers: true,
            // theme: "dracula",
            // lineWrapping: true,
            // indentUnit: 4,
            mode: "text/rust",

            matchBrackets: true,

            // mode: "text/x-csrc"
        });
        editor.setSize("1000", "1000");
    </script>



    <!-- <script>
        // var editor = CodeMirror.fromTextArea(document.getElementById("editor"), {
        //     mode: "text/x-csrc",
        //     lineNumbers: true,
        //     matchBrackets: true,
        //     theme: "dracula"
        // });
        var editor2 = CodeMirror.fromTextArea(document.getElementById("ahh"), {
            mode: "text/x-rustsrc",
            lineNumbers: true,
            // matchBrackets: true,
            theme: "dracula"
        });

        editor.save()
    </script> -->



</body>


</html>